env: ${ENV:dev}

server:
  port: 15013
  servlet:
    context-path: /garbage-service
  # error handle default config
  error:
    include-message: always
    include-binding-errors: always
    include-stacktrace: on_param
    include-exception: false


# actuator metrics
management.endpoint.metrics.enabled: true
management.endpoints.web.exposure.include: '*'
management.endpoint.prometheus.enabled: true
management.endpoints.enabled-by-default: false
management.endpoint.info.enabled: true
management.endpoint.health.enabled: true
management.endpoint.shutdown.enabled: true

#logging:
#  level:
#    org:
#      hibernate:
#        SQL: DEBUG
#        type:
#          descriptor:
#            sql:
#              BasicBinder: TRACE
spring:
  application:
    name: garbage-service
  jackson:
    property-naming-strategy: SNAKE_CASE # since jackson 2.7
    time-zone: Asia/Ho_Chi_Minh

  # JPA / HIBERNATE
  jpa:
    show-sql: true
    hibernate:
      ddl-auto: none
      naming:
        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
    properties:
      hibernate:
        format_sql: false
  main:
    allow-bean-definition-overriding: true
    allow-circular-references: true
  task:
    scheduling:
      pool:
        size: 10

mysql:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: ${MYSQL_URL:jdbc:mysql://127.0.0.1:3307/garbage_service?useUnicode=yes&characterEncoding=UTF-8&serverTimezone=Asia/Ho_Chi_Minh&useLegacyDatetimeCode=false}
    username: ${MYSQL_USER:root}
    password: ${MYSQL_PASSWORD:admin123456}

spring.kafka.bootstrap-address: ${KAFKA_BOOTSTRAP_ADDRESS:localhost:29092}
spring.kafka.properties.sasl.jaas.config: ${KAFKA_SASL_JAAS_CONFIG:org.apache.kafka.common.security.plain.PlainLoginModule required username="admin" password="admin-secret";}
spring.kafka.properties.security.protocol: ${KAFKA_SECURITY_PROTOCOL:SASL_PLAINTEXT}
spring.kafka.properties.sasl.mechanism: ${KAFKA_SASL_MECHANISM:PLAIN}

amazon.s3.url: https://garbage-system.s3.ap-southeast-2.amazonaws.com
amazon.s3.bucket: garbage-system
amazon.s3.region: ap-southeast-2
amazon.s3.access-key: AKIARA4HHNICUVJVYW4E
amazon.s3.secret-key: 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

# https://stackoverflow:com/questions/54958189/spring-boot-multipart-file-maximum-upload-size-exception
spring.servlet.multipart.max-file-size: 52428800
spring.servlet.multipart.max-request-size: 52428800



kafka.topic.publish.event.load-cell: ${KAFKA_LOAD_CELL_TOPIC:event-send-load-cell}
kafka.topic.publish.event.check-plate: ${KAFKA_CHECK_PLATE_TOPIC:event-send-check-plate}


